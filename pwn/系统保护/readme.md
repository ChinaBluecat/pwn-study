### 系统保护机制

#### 1. stack canary(金丝雀)

简单易懂的防御机制, 在栈上放置一个cookie值, 这个值处于ret 与rbp之前, 由系统利用算法随机算出, 在函数调用前压栈并保存对比值到堆中, 在程序退出时进行比较, 如果值不同, 则触发一个异常

绕过方法:
1. 泄露canary值
2. 利用子线程对父线程的canary进行爆破, 子进程是父进程的副本，它将获得父进程数据空间、堆、栈等资源的副本。注意，子进程持有的是上述存储空间的“副本”，这意味着父子进程间不共享这些存储空间。因此可以在子进程中无限次数的对相同的canary值进行爆破(每次覆盖一个字节的数据, 看返回是否错误)
3. 绕过canary。通过利用精确的内存修改漏洞(etc. 格式化字符串), 跳过canary的位置对ret进行修改

#### 2. ASLR (Address Space Layout Randomization)

ASLR技术将代码的基址在载入内存时进行随机化, 即你无法通过固定的一个跳转地址来准确劫持程序流, 变相增加了漏洞利用难度。

绕过:
1. 泄露程序内某些地址: 通过与源文件偏移进行计算可以得到相对偏移, 再用偏移计算出内存中函数的所在地址。
2. 内存页覆写: 因为内存页分配总是以0x1000为基础单位划分, 因此在某个内存页上, 只有最后3位是用于区分位置的, 因此如果目标函数地址与原本函数的返回地址处于同一内存页中, 可以通过对最后一个字节进行修改, 测试0xff, 可以最多在255空间内移动, 或者2字节, 需要爆破1个字符位, 运气好就能撞上


#### 3. NX(No Execute)

NX指的是不可执行, 这是一种通过设置栈、或者其他可读写区域不具有可执行权限, 来使得程序无法通过return to shellcode来进行简单利用。

#### 4. 
